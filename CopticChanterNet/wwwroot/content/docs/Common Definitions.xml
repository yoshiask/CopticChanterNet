<?xml version="1.0" encoding="utf-8"?>
<Document>
    <Name>Common Definitions A</Name>
    <Uuid>urn:coptlib:commondefsA</Uuid>

    <Definitions>
        <Translations Key="PopeName">
            <Stanza Language="English">Tawadros</Stanza>
            <Stanza Language="Coptic">Tawadros</Stanza>
            <Stanza Language="Arabic">تواضروس</Stanza>
        </Translations>

        <Translations Key="MetropolitanName">
            <Stanza Language="English">Youssef</Stanza>
            <Stanza Language="Coptic">Youssef</Stanza>
            <Stanza Language="Arabic">يوسف</Stanza>
        </Translations>

        <Script>
<![CDATA[
public override IDefinition GetDefinition()
{
    // https://tasbeha.org/community/discussion/13753/aki-or-aktonk-etc
    var Today = DateHelper.NowCoptic();
    int year = Today.YearOfEra;

    string engText, copText, araText;

    if (Today == CopticCalendar.Nativity(year))
    {
        engText = "were born";
        copText = "ⲁⲩⲙⲁⲥⲕ";
        araText = "TODO";
    }
    else if (Today == CopticCalendar.Theophany(year))
    {
        engText = "were baptised";
        copText = "ⲁⲕϭⲓⲱⲙⲥ";
        araText = "TODO";
    }
    else if (Today == CopticCalendar.FirstFeastCross(year)
        || Today == CopticCalendar.SecondFeastCross(year)
        || CopticCalendar.PaschalPeriod(year).IsDuring(Today))
    {
        engText = "were crucified";
        copText = "ⲁⲩⲁϣⲕ";
        araText = "TODO";
    }
    else
    {
        var resur = CopticCalendar.Resurrection(year);
        var holyFiftyDays = Period.DaysBetween(resur, Today);
        bool isHolyFiftyDays = holyFiftyDays > 0 && holyFiftyDays <= 50;

        var pentecost = CopticCalendar.Pentecost(year);
        var koiahk = DateHelper.NewCopticDate(year, 4, 1);
        bool isPentecostKiahk = Today >= pentecost && Today < koiahk;

        if (isHolyFiftyDays || isPentecostKiahk || Today.Day == 29)
        {
            engText = "have risen";
            copText = "ⲁⲕⲧⲱⲛⲕ";
            araText = "قمت";
        }
        else
        {
            engText = "have come";
            copText = "ⲁⲕⲓ\u0300";
            araText = "اتيت";
        }
    }

    var res = new TranslationRunCollection("AkiAktonk");
    res.AddRun(new(engText, res)
    {
        Language = new(KnownLanguage.English)
    });
    res.AddRun(new(copText, res)
    {
        Language = new(KnownLanguage.Coptic)
    });
    res.AddRun(new(araText, res)
    {
        Language = new(KnownLanguage.Arabic)
    });

    return res;
}
]]>
        </Script>
    </Definitions>
</Document>